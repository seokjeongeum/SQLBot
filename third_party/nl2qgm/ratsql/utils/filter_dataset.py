import json

def filter_dataset():
    target_example_ids = [0,4,10,11,12,15,16,30,35,50,59,63,64,67,71,72,73,87,91,92,107,115,117,118,134,135,142,143,145,149,182,188,189,190,192,197,198,208,210,237,242,246,260,273,275,289,292,293,296,297,298,299,305,306,308,315,316,318,319,322,325,
                            326,327,332,340,341,348,350,353,357,358,364,374,376,381,404,406,408,409,413,422,423,429,430,431,432,437,443,450,469,479,489,493,509,510,515,518,519,520,521,523,527,528,538,544,555,567,573,574,577,586,588,594,597,598,600,
                            617,627,648,655,660,676,682,685,686,687,712,717,719,720,722,728,732,735,737,739,743,744,747,751,759,764,768,770,779,784,798,806,822,823,824,834,835,849,883,887,896,899,902,915,917,930,934,948,969,972,973,974,977,978,983,986,990,996,1000,1002,1012,1015,1019]

    with open("/mnt/sdc/jjkim/NL2QGM/data/spider-kor/dev.json", 'r') as f:
        examples = json.load(f)
    
    filtered_examples = []
    for i in target_example_ids:
        filtered_examples.append(examples[i])
    
    with open("/mnt/sdc/jjkim/NL2QGM/data/spider-kor/dev_filtered.json", 'w') as f:
        json.dump(filtered_examples, f, indent=2, ensure_ascii=False)


if __name__ == '__main__':
    filter_dataset()